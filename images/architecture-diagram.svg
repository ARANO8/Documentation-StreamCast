<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .node { fill: #f0f0f0; stroke: #333; stroke-width: 2; rx: 8; }
      .database { fill: #e6f3ff; stroke: #0066cc; stroke-width: 2; rx: 8; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #333; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">StreamCast - System Architecture</text>
  
  <!-- User Node -->
  <rect x="50" y="80" width="120" height="60" class="node" />
  <text x="110" y="115" text-anchor="middle" class="label">User</text>
  <text x="110" y="130" text-anchor="middle" class="label">(Web/Browser)</text>
  
  <!-- Frontend Node -->
  <rect x="250" y="80" width="120" height="60" class="node" />
  <text x="310" y="115" text-anchor="middle" class="label">Frontend</text>
  <text x="310" y="130" text-anchor="middle" class="label">(React)</text>
  
  <!-- Backend Node -->
  <rect x="450" y="80" width="120" height="60" class="node" />
  <text x="510" y="115" text-anchor="middle" class="label">Backend</text>
  <text x="510" y="130" text-anchor="middle" class="label">(NestJS)</text>
  
  <!-- Database Node -->
  <rect x="650" y="80" width="120" height="60" class="database" />
  <text x="710" y="115" text-anchor="middle" class="label">PostgreSQL</text>
  
  <!-- OBS Node -->
  <rect x="50" y="280" width="120" height="60" class="node" />
  <text x="110" y="315" text-anchor="middle" class="label">OBS Studio</text>
  
  <!-- RTMP Node -->
  <rect x="250" y="280" width="120" height="60" class="node" />
  <text x="310" y="315" text-anchor="middle" class="label">Nginx RTMP</text>
  
  <!-- Arrows -->
  <!-- User to Frontend -->
  <line x1="170" y1="110" x2="250" y2="110" class="arrow" />
  <text x="210" y="100" text-anchor="middle" class="label">HTTP/HTTPS</text>
  
  <!-- Frontend to Backend -->
  <line x1="370" y1="110" x2="450" y2="110" class="arrow" />
  <text x="410" y="100" text-anchor="middle" class="label">API Requests</text>
  
  <!-- Backend to Database -->
  <line x1="570" y1="110" x2="650" y2="110" class="arrow" />
  <text x="610" y="100" text-anchor="middle" class="label">Queries</text>
  
  <!-- OBS to RTMP -->
  <line x1="170" y1="310" x2="250" y2="310" class="arrow" />
  <text x="210" y="300" text-anchor="middle" class="label">RTMP Stream</text>
  
  <!-- RTMP to Backend -->
  <line x1="310" y1="280" x2="450" y2="200" class="arrow" />
  <text x="380" y="240" text-anchor="middle" class="label">on_publish</text>
  <text x="380" y="255" text-anchor="middle" class="label">Validate Key</text>
</svg>
